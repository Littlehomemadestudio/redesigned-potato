# راهنمای مشارکت

از مشارکت شما در این پروژه استقبال می‌کنیم! لطفاً این راهنما را مطالعه کنید.

## نحوه مشارکت

### گزارش باگ
- از بخش Issues استفاده کنید
- توضیح کاملی از مشکل ارائه دهید
- مراحل بازتولید مشکل را بنویسید
- اطلاعات سیستم و نسخه را ذکر کنید

### پیشنهاد ویژگی
- از بخش Issues استفاده کنید
- توضیح کاملی از ویژگی پیشنهادی ارائه دهید
- مزایای آن را شرح دهید
- در صورت امکان، نمونه کد ارائه دهید

### ارسال Pull Request
1. پروژه را Fork کنید
2. یک شاخه جدید ایجاد کنید (`git checkout -b feature/amazing-feature`)
3. تغییرات خود را commit کنید (`git commit -m 'Add amazing feature'`)
4. شاخه را push کنید (`git push origin feature/amazing-feature`)
5. Pull Request ایجاد کنید

## استانداردهای کد

### Python
- از PEP 8 پیروی کنید
- حداکثر طول خط: 127 کاراکتر
- از docstring استفاده کنید
- نام‌های متغیر و تابع به انگلیسی
- کامنت‌ها به فارسی

### ساختار پروژه
```
war_simulation_bot/
├── war_simulation_bot.py    # فایل اصلی ربات
├── test_bot.py              # فایل تست
├── run.py                   # فایل اجرا
├── config_example.py        # نمونه تنظیمات
├── requirements.txt         # وابستگی‌ها
├── README.md               # مستندات
├── CHANGELOG.md            # تاریخچه تغییرات
├── CONTRIBUTING.md         # راهنمای مشارکت
├── LICENSE                 # مجوز
├── Dockerfile              # فایل داکر
├── docker-compose.yml      # تنظیمات داکر
├── Makefile                # دستورات خودکار
└── .github/
    └── workflows/
        └── ci.yml          # CI/CD
```

### نام‌گذاری
- **فایل‌ها**: snake_case (مثل `war_simulation_bot.py`)
- **کلاس‌ها**: PascalCase (مثل `WarBot`)
- **توابع و متغیرها**: snake_case (مثل `calculate_power`)
- **ثابت‌ها**: UPPER_CASE (مثل `MAX_LEVEL`)

### کامنت‌گذاری
```python
def calculate_total_power(user_data):
    """
    محاسبه قدرت کل نظامی کاربر
    
    Args:
        user_data (dict): داده‌های کاربر
        
    Returns:
        int: قدرت کل نظامی
    """
    total_power = 0
    # محاسبه قدرت تمام واحدها
    for unit_type, count in user_data["military"].items():
        if unit_type in MILITARY_UNITS and count > 0:
            unit_power = MILITARY_UNITS[unit_type]["power"]
            total_power += unit_power * count
    return total_power
```

## تست

### اجرای تست‌ها
```bash
# اجرای تمام تست‌ها
python test_bot.py

# یا با Make
make test
```

### نوشتن تست جدید
```python
def test_new_feature():
    """تست ویژگی جدید"""
    print("🧪 تست ویژگی جدید...")
    
    # کد تست
    result = new_function()
    
    # بررسی نتیجه
    assert result == expected_result
    print("✅ تست ویژگی جدید موفق!")
```

## مستندسازی

### README
- توضیح کامل پروژه
- راهنمای نصب و راه‌اندازی
- مثال‌های استفاده
- لیست ویژگی‌ها

### Docstring
- توضیح تابع
- پارامترها
- مقدار بازگشتی
- مثال‌ها

### کامنت‌ها
- توضیح منطق پیچیده
- نکات مهم
- هشدارها

## Git

### Commit Messages
```
feat: اضافه کردن ویژگی جدید
fix: رفع باگ
docs: به‌روزرسانی مستندات
style: تغییرات فرمت
refactor: بازسازی کد
test: اضافه کردن تست
chore: کارهای نگهداری
```

### مثال‌ها
```
feat: اضافه کردن سیستم اتحاد
fix: رفع مشکل محاسبه قدرت
docs: به‌روزرسانی README
style: اصلاح فرمت کد
refactor: بهبود ساختار داده
test: اضافه کردن تست واحدها
chore: به‌روزرسانی وابستگی‌ها
```

## بررسی کد

### قبل از ارسال PR
- [ ] تست‌ها اجرا شده و موفق هستند
- [ ] کد مطابق استانداردها است
- [ ] مستندات به‌روزرسانی شده
- [ ] کامنت‌های مناسب اضافه شده
- [ ] تغییرات در CHANGELOG ثبت شده

### بررسی PR
- کد خوانا و قابل فهم است
- تست‌های مناسب وجود دارد
- مستندات کامل است
- عملکرد صحیح است
- امنیت رعایت شده

## سوالات متداول

### چگونه شروع کنم؟
1. پروژه را Fork کنید
2. محیط توسعه را راه‌اندازی کنید
3. یک issue برای کار خود ایجاد کنید
4. شاخه جدید ایجاد کنید
5. شروع به کدنویسی کنید

### چگونه باگ گزارش دهم؟
1. ابتدا بررسی کنید که باگ قبلاً گزارش نشده
2. issue جدید ایجاد کنید
3. توضیح کاملی از مشکل ارائه دهید
4. مراحل بازتولید را بنویسید

### چگونه ویژگی پیشنهاد دهم؟
1. issue جدید ایجاد کنید
2. توضیح کاملی از ویژگی ارائه دهید
3. مزایای آن را شرح دهید
4. در صورت امکان، نمونه کد ارائه دهید

## تماس

- **Issues**: از بخش Issues در GitHub استفاده کنید
- **Discussions**: از بخش Discussions برای گفتگو استفاده کنید
- **Email**: developer@example.com

## تشکر

از مشارکت شما در بهبود این پروژه تشکر می‌کنیم! 🙏